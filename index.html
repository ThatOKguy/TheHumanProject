<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <header>
      <h1>
        The Human Project
      </h1>
        <p>This is a project to represent the entirity of human history!</p>
    </header>
    <section>

    </section>
    <script type="text/javascript">
      const movies =
        {
          "TileNumber": 0,
          "TileType": "GrassLand",
          "TileTime": 2022,
          "Members":
          [
            {
              "Type":"House",
              "Name":"House1",
              "Position":
              [
                13,
                125
              ]
            },
            {
              "Type":"Person",
              "Name":"Jeromy",
              "Position":
              [
                376,
                -187
              ]
            },
            {
              "Type":"Bird",
              "Name":"Stevie",
              "Position":
              [
                 370,
                 412
              ]
            }
          ]
        };
      populate(movies);
      function populate(object)
      {
        populateHeader(object);
        populateMembers(object);
        includesvg(object);
      }
      function populateHeader(obj)
      {
        console.log(obj);
        var tileNumber = obj.TileNumber;
        console.log(obj.TileNumber);
        const header = document.querySelector('header');
        const myH2 = document.createElement('h2');
        myH2.textContent = "TileNumber:" + tileNumber;
        header.appendChild(myH2);

        const para1 = document.createElement('p');
        var tileType = obj.TileType;
        var tileTime = obj.TileTime;
        para1.textContent = "TileType:" + tileType +" // Year:" + tileTime;
        header.appendChild(para1);
      }

      function populateMembers(obj)
      {
        const section = document.querySelector('section');
        const members = obj.Members;

        for (const member of members) {
          const myArticle = document.createElement('article');
          const myH2 = document.createElement('h2');
          const myPara1 = document.createElement('p');
          const myPara2 = document.createElement('p');
          const myList = document.createElement('ul');

          myH2.textContent = "Type:" + member.Type;
          myPara1.textContent = "Name:" + member.Name;
          myPara2.textContent = 'Position Coordinates:';

          const positions = member.Position;
          for (const position of positions) {
            const listItem = document.createElement('li');
            listItem.textContent = position;
            myList.appendChild(listItem);
          }

          myArticle.appendChild(myH2);
          myArticle.appendChild(myPara1);
          myArticle.appendChild(myPara2);
          myArticle.appendChild(myList);

          section.appendChild(myArticle);
        }
      }

      function includesvg(obj)
      {
        const section = document.querySelector('section');
        const myArticle = document.createElement('article');
        const svgContainer = document.createElement('div');
        var xmlns = "http://www.w3.org/2000/svg";
        const members = obj.Members;
        let mySVG = null;
        var boxWidth = 300;
        var boxHeight = 300;

        for (const member of members) {
          let type = member.Type;
          if (type == "Bird")
          {
            console.log(type);
            mySVG = document.createElementNS(xmlns, "svg");
            mySVG.setAttributeNS(null, "viewBox", "0 0 " + boxWidth + " " + boxHeight);
            mySVG.setAttributeNS(null, "width", boxWidth);
            mySVG.setAttributeNS(null, "height", boxHeight);
            mySVG.style.display = "block";
          }
        }
        if( mySVG != null){
          svgContainer.setAttribute("id","svgContainer");
          svgContainer.appendChild(mySVG);
          myArticle.appendChild(svgContainer);
          section.appendChild(myArticle);
        }
      }
    </script>
  </body>
</html>
